
IF EXISTS (SELECT database_id FROM sys.databases  
    WHERE NAME='BBINFINITY_SS_WITHDEDUPE')  
    DROP DATABASE BBINFINITY_SS_WITHDEDUPE;  
GO 


CREATE DATABASE BBINFINITY_SS_WITHDEDUPE
ON
( NAME = BBI_AUDIT1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_AUDIT1.ss'),
( NAME = BBI_AUDIT2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_AUDIT2.ss'),
( NAME = BBI_AUDIT3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_AUDIT3.ss'),
( NAME = BBI_AUDIT4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_AUDIT4.ss'),
( NAME = BBI_BIO1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_BIO1.ss'),
( NAME = BBI_BIO2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_BIO2.ss'),
( NAME = BBI_BIOIDX1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_BIOIDX1.ss'),
( NAME = BBI_BIOIDX2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_BIOIDX2.ss'),
( NAME = BBI_DEF1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_DEF1.ss'),
( NAME = BBI_DEF2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_DEF2.ss'),
( NAME = BBI_DEF3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_DEF3.ss'),
( NAME = BBI_DEF4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_DEF4.ss'),
( NAME = BBI_IDX1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_IDX1.ss'),
( NAME = BBI_IDX2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_IDX2.ss'),
( NAME = BBI_IDX3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_IDX3.ss'),
( NAME = BBI_IDX4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_IDX4.ss'),
--( NAME = BBI_LOG1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_LOG1.ss'),
( NAME = BBI_OUTPUT1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_OUTPUT1.ss'),
( NAME = BBI_OUTPUT2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_OUTPUT2.ss'),
( NAME = BBI_OUTPUT3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_OUTPUT3.ss'),
( NAME = BBI_OUTPUT4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_OUTPUT4.ss'),
( NAME = BBI_PRIM, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_PRIM.ss'),
( NAME = BBI_TRAN1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRAN1.ss'),
( NAME = BBI_TRAN2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRAN2.ss'),
( NAME = BBI_TRAN3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRAN3.ss'),
( NAME = BBI_TRAN4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRAN4.ss'),
( NAME = BBI_TRANIDX1, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRANIDX1.ss'),
( NAME = BBI_TRANIDX2, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRANIDX2.ss'),
( NAME = BBI_TRANIDX3, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRANIDX3.ss'),
( NAME = BBI_TRANIDX4, FILENAME = 'C:\BBCRMDB\SQL2014\MSSQL12.SQL2014\MSSQL\DATA\BBI_TRANIDX4.ss')
AS SNAPSHOT OF BBINFINITY;
GO

-- Drop it 
--DROP DATABASE BBINFINITY_SS_WITHDEDUPE;
--Go;

-- Revert to it
--USE master;

--RESTORE DATABASE BBINFINITY FROM 
--DATABASE_SNAPSHOT = 'BBINFINITY_SS_WITHDEDUPE'